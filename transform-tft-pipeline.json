{
  "pipelineSpec": {
    "components": {
      "comp-transform-tft": {
        "executorLabel": "exec-transform-tft",
        "inputDefinitions": {
          "parameters": {
            "output_dir": {
              "type": "STRING"
            },
            "project": {
              "type": "STRING"
            },
            "region": {
              "type": "STRING"
            },
            "setup_file": {
              "type": "STRING"
            },
            "temp_location": {
              "type": "STRING"
            }
          }
        },
        "outputDefinitions": {
          "parameters": {
            "gcp_resources": {
              "type": "STRING"
            },
            "output_dir_path": {
              "type": "STRING"
            }
          }
        }
      },
      "comp-wait-gcp-resources": {
        "executorLabel": "exec-wait-gcp-resources",
        "inputDefinitions": {
          "parameters": {
            "gcp_resources": {
              "type": "STRING"
            }
          }
        },
        "outputDefinitions": {
          "parameters": {
            "gcp_resources": {
              "type": "STRING"
            }
          }
        }
      }
    },
    "deploymentSpec": {
      "executors": {
        "exec-transform-tft": {
          "container": {
            "args": [
              "--project",
              "{{$.inputs.parameters['project']}}",
              "--region",
              "{{$.inputs.parameters['region']}}",
              "--temp_location",
              "{{$.inputs.parameters['temp_location']}}",
              "--setup_file",
              "{{$.inputs.parameters['setup_file']}}",
              "--output_dir",
              "{{$.inputs.parameters['output_dir']}}",
              "--gcp_resources",
              "{{$.outputs.parameters['gcp_resources'].output_file}}",
              "--output_dir_path",
              "{{$.outputs.parameters['output_dir_path'].output_file}}"
            ],
            "command": [
              "pipenv",
              "run",
              "python",
              "/transform-tft/src/run.py"
            ],
            "image": "asia-northeast1-docker.pkg.dev/ca-pubtex-ai-verification/transform-tft/transform-tft:v1.0.3"
          }
        },
        "exec-wait-gcp-resources": {
          "container": {
            "args": [
              "--type",
              "Wait",
              "--project",
              "",
              "--location",
              "",
              "--payload",
              "{{$.inputs.parameters['gcp_resources']}}",
              "--gcp_resources",
              "{{$.outputs.parameters['gcp_resources'].output_file}}"
            ],
            "command": [
              "python3",
              "-u",
              "-m",
              "google_cloud_pipeline_components.container.v1.gcp_launcher.launcher"
            ],
            "image": "gcr.io/ml-pipeline/google-cloud-pipeline-components:1.0.7"
          }
        }
      }
    },
    "pipelineInfo": {
      "name": "transform-tft-pipeline"
    },
    "root": {
      "dag": {
        "tasks": {
          "transform-tft": {
            "cachingOptions": {
              "enableCache": true
            },
            "componentRef": {
              "name": "comp-transform-tft"
            },
            "inputs": {
              "parameters": {
                "output_dir": {
                  "componentInputParameter": "output_dir"
                },
                "project": {
                  "componentInputParameter": "project"
                },
                "region": {
                  "componentInputParameter": "region"
                },
                "setup_file": {
                  "componentInputParameter": "setup_file"
                },
                "temp_location": {
                  "componentInputParameter": "temp_location"
                }
              }
            },
            "taskInfo": {
              "name": "transform-tft"
            }
          },
          "wait-gcp-resources": {
            "cachingOptions": {
              "enableCache": true
            },
            "componentRef": {
              "name": "comp-wait-gcp-resources"
            },
            "dependentTasks": [
              "transform-tft"
            ],
            "inputs": {
              "parameters": {
                "gcp_resources": {
                  "taskOutputParameter": {
                    "outputParameterKey": "gcp_resources",
                    "producerTask": "transform-tft"
                  }
                }
              }
            },
            "taskInfo": {
              "name": "wait-gcp-resources"
            }
          }
        }
      },
      "inputDefinitions": {
        "parameters": {
          "output_dir": {
            "type": "STRING"
          },
          "project": {
            "type": "STRING"
          },
          "region": {
            "type": "STRING"
          },
          "setup_file": {
            "type": "STRING"
          },
          "temp_location": {
            "type": "STRING"
          }
        }
      }
    },
    "schemaVersion": "2.0.0",
    "sdkVersion": "kfp-1.8.13"
  },
  "runtimeConfig": {
    "gcsOutputDirectory": "gs://ca-pubtex-ai-verification-dataflow/pipeline_root",
    "parameters": {
      "output_dir": {
        "stringValue": "gs://ca-pubtex-ai-verification-dataflow/tmp/output_tft"
      },
      "project": {
        "stringValue": "ca-pubtex-ai-verification"
      },
      "region": {
        "stringValue": "us-central1"
      },
      "setup_file": {
        "stringValue": "/transform-tft/setup.py"
      },
      "temp_location": {
        "stringValue": "gs://ca-pubtex-ai-verification-dataflow/transform-tft/tmp"
      }
    }
  }
}