name: transform-tft
inputs:
- {name: project, type: String}
- {name: location, type: String}
- {name: python_module_path, type: String}
- {name: temp_location, type: String}
- {name: requirements_file_path, type: String}
- {name: args, type: JsonArray, optional: true, default: "[]"}
outputs:
- {name: gcp_resources, type: String}

implementation:
  container:
    image: asia-northeast1-docker.pkg.dev/transform-tft:v1.0.0
    command:
      - pipenv
      - run
      - python
      - /components/transform-tft/run.py 
    args: [
      --project, {inputValue: project},
      --location, {inputValue: location},
      --python_module_path, {inputValue: python_module_path},
      --temp_location, {inputValue: temp_location},
      --requirements_file_path, {inputValue: requirements_file_path}, #ここはローカル側の環境構築用のrequirementsなので不要？
      --args,{inputValue: argss},
      --gcp_resources, {outputPath: gcp_resources},
    ]